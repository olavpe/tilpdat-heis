\hypertarget{fsm_8h}{}\section{source/fsm.h File Reference}
\label{fsm_8h}\index{source/fsm.\+h@{source/fsm.\+h}}


This class that controls the main functions of the elevator. It is responsible for checking input signals in addtion to managing the state of the elevator.  


This graph shows which files directly or indirectly include this file\+:
% FIG 0
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{fsm_8h_af4fe70813ab0d1707845d398679e5b6c}\label{fsm_8h_af4fe70813ab0d1707845d398679e5b6c}} 
\#define {\bfseries N\+\_\+\+P\+O\+S\+I\+T\+I\+O\+NS}~7
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}{position\+\_\+t} \{ \newline
{\bfseries F\+L\+O\+O\+R\+\_\+0}, 
{\bfseries B\+E\+T\+W\+E\+E\+N\+\_\+0\+\_\+\+A\+N\+D\+\_\+1}, 
{\bfseries F\+L\+O\+O\+R\+\_\+1}, 
{\bfseries B\+E\+T\+W\+E\+E\+N\+\_\+1\+\_\+\+A\+N\+D\+\_\+2}, 
\newline
{\bfseries F\+L\+O\+O\+R\+\_\+2}, 
{\bfseries B\+E\+T\+W\+E\+E\+N\+\_\+2\+\_\+\+A\+N\+D\+\_\+3}, 
{\bfseries F\+L\+O\+O\+R\+\_\+3}, 
{\bfseries U\+N\+K\+N\+O\+WN}
 \}
\item 
enum \hyperlink{fsm_8h_a5b3a976f46b9e6993f1692a09bf2fd60}{floor\+\_\+t} \{ \newline
{\bfseries O\+R\+D\+E\+R\+\_\+\+F\+L\+O\+O\+R\+\_\+0}, 
{\bfseries O\+R\+D\+E\+R\+\_\+\+F\+L\+O\+O\+R\+\_\+1}, 
{\bfseries O\+R\+D\+E\+R\+\_\+\+F\+L\+O\+O\+R\+\_\+2}, 
{\bfseries O\+R\+D\+E\+R\+\_\+\+F\+L\+O\+O\+R\+\_\+3}, 
\newline
{\bfseries O\+R\+D\+E\+R\+\_\+\+U\+N\+K\+N\+O\+WN}
 \}
\item 
enum \hyperlink{fsm_8h_aa0aafed44fec19806d8f9ad834be1248}{state\+\_\+t} \{ \newline
{\bfseries I\+N\+IT}, 
{\bfseries I\+D\+LE}, 
{\bfseries M\+O\+V\+I\+NG}, 
{\bfseries O\+P\+E\+N\+\_\+\+D\+O\+OR}, 
\newline
{\bfseries E\+M\+E\+R\+G\+E\+N\+C\+Y\+\_\+\+S\+T\+OP}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{fsm_8h_a270932dff1ab343bb350f7c6e02d7a43}{fsm} ()
\begin{DoxyCompactList}\small\item\em The functions main responsibilites is managing the finite state machine. Before entering a switch that manages the state machine it polls\+: \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{fsm_8h_a8e3b86e5046ca615ae4759cec474ca17}{fsm\+\_\+print\+\_\+position} (\hyperlink{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}{position\+\_\+t} position)
\begin{DoxyCompactList}\small\item\em This function matches the number of the elevator position\+\_\+t enum to the corresponding string in the enum, allowing the string to be printed rather than the number. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{fsm_8h_abf781af1e993c6d51c4980f2519cf4ee}\label{fsm_8h_abf781af1e993c6d51c4980f2519cf4ee}} 
const char $\ast$ \hyperlink{fsm_8h_abf781af1e993c6d51c4980f2519cf4ee}{fsm\+\_\+print\+\_\+direction} (elev\+\_\+motor\+\_\+direction\+\_\+t direction)
\begin{DoxyCompactList}\small\item\em This function matches the number of the elevator position\+\_\+t enum to the corresponding string in the enum, allowing the string to be printed rather than the number. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class that controls the main functions of the elevator. It is responsible for checking input signals in addtion to managing the state of the elevator. 



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{fsm_8h_a5b3a976f46b9e6993f1692a09bf2fd60}\label{fsm_8h_a5b3a976f46b9e6993f1692a09bf2fd60}} 
\index{fsm.\+h@{fsm.\+h}!floor\+\_\+t@{floor\+\_\+t}}
\index{floor\+\_\+t@{floor\+\_\+t}!fsm.\+h@{fsm.\+h}}
\subsubsection{\texorpdfstring{floor\+\_\+t}{floor\_t}}
{\footnotesize\ttfamily enum \hyperlink{fsm_8h_a5b3a976f46b9e6993f1692a09bf2fd60}{floor\+\_\+t}}

Floor type to dissern the different floors of the elevator. Used in functions
\begin{DoxyItemize}
\item F\+I\+LL IN F\+O\+L\+L\+O\+W\+I\+NG 
\end{DoxyItemize}

Definition at line 32 of file fsm.\+h.

\mbox{\Hypertarget{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}\label{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}} 
\index{fsm.\+h@{fsm.\+h}!position\+\_\+t@{position\+\_\+t}}
\index{position\+\_\+t@{position\+\_\+t}!fsm.\+h@{fsm.\+h}}
\subsubsection{\texorpdfstring{position\+\_\+t}{position\_t}}
{\footnotesize\ttfamily enum \hyperlink{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}{position\+\_\+t}}

Position type to keep track of the position of the elevator. Used in functions
\begin{DoxyItemize}
\item F\+I\+LL IN F\+O\+L\+L\+O\+W\+I\+NG 
\end{DoxyItemize}

Definition at line 17 of file fsm.\+h.

\mbox{\Hypertarget{fsm_8h_aa0aafed44fec19806d8f9ad834be1248}\label{fsm_8h_aa0aafed44fec19806d8f9ad834be1248}} 
\index{fsm.\+h@{fsm.\+h}!state\+\_\+t@{state\+\_\+t}}
\index{state\+\_\+t@{state\+\_\+t}!fsm.\+h@{fsm.\+h}}
\subsubsection{\texorpdfstring{state\+\_\+t}{state\_t}}
{\footnotesize\ttfamily enum \hyperlink{fsm_8h_aa0aafed44fec19806d8f9ad834be1248}{state\+\_\+t}}

State types for function \hyperlink{fsm_8h_a270932dff1ab343bb350f7c6e02d7a43}{fsm()}. 

Definition at line 43 of file fsm.\+h.



\subsection{Function Documentation}
\mbox{\Hypertarget{fsm_8h_a270932dff1ab343bb350f7c6e02d7a43}\label{fsm_8h_a270932dff1ab343bb350f7c6e02d7a43}} 
\index{fsm.\+h@{fsm.\+h}!fsm@{fsm}}
\index{fsm@{fsm}!fsm.\+h@{fsm.\+h}}
\subsubsection{\texorpdfstring{fsm()}{fsm()}}
{\footnotesize\ttfamily void fsm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The functions main responsibilites is managing the finite state machine. Before entering a switch that manages the state machine it polls\+: 


\begin{DoxyItemize}
\item The order buttons
\item floor sensors
\item stop button
\end{DoxyItemize}

The state machine consists of the following states\+:
\begin{DoxyItemize}
\item I\+N\+IT
\item I\+D\+LE
\item M\+O\+V\+I\+NG
\item O\+P\+EN D\+O\+OR
\item E\+M\+E\+R\+G\+E\+N\+CY S\+T\+OP
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em fsm\+\_\+position} & Elevator position \\
\hline
\mbox{\tt out}  & {\em fsm\+\_\+last\+\_\+position} & Elevator position \\
\hline
\mbox{\tt out}  & {\em fsm\+\_\+timestamp} & Timestamp \\
\hline
\mbox{\tt out}  & {\em fsm\+\_\+direction} & Elevator direction of travel \\
\hline
\mbox{\tt out}  & {\em fsm\+\_\+state} & Elevator state \\
\hline
\end{DoxyParams}


Definition at line 31 of file fsm.\+c.

\mbox{\Hypertarget{fsm_8h_a8e3b86e5046ca615ae4759cec474ca17}\label{fsm_8h_a8e3b86e5046ca615ae4759cec474ca17}} 
\index{fsm.\+h@{fsm.\+h}!fsm\+\_\+print\+\_\+position@{fsm\+\_\+print\+\_\+position}}
\index{fsm\+\_\+print\+\_\+position@{fsm\+\_\+print\+\_\+position}!fsm.\+h@{fsm.\+h}}
\subsubsection{\texorpdfstring{fsm\+\_\+print\+\_\+position()}{fsm\_print\_position()}}
{\footnotesize\ttfamily const char$\ast$ fsm\+\_\+print\+\_\+position (\begin{DoxyParamCaption}\item[{\hyperlink{fsm_8h_a31f24aef3ddd32d2e6538ffff4055d37}{position\+\_\+t}}]{position }\end{DoxyParamCaption})}



This function matches the number of the elevator position\+\_\+t enum to the corresponding string in the enum, allowing the string to be printed rather than the number. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em position} & \\
\hline
\end{DoxyParams}


Definition at line 225 of file fsm.\+c.

