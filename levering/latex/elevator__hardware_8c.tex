\hypertarget{elevator__hardware_8c}{}\section{source/elevator\+\_\+hardware.c File Reference}
\label{elevator__hardware_8c}\index{source/elevator\+\_\+hardware.\+c@{source/elevator\+\_\+hardware.\+c}}


Implementation of the functions in \hyperlink{elevator__hardware_8h}{elevator\+\_\+hardware.\+h}.  


{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$netdb.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include \char`\"{}elevator\+\_\+hardware.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}con\+\_\+load.\+h\char`\"{}}\newline
Include dependency graph for elevator\+\_\+hardware.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{elevator__hardware_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{elevator__hardware_8c_a9947d40b2dd08b246692ce64ef60b8c9}{elev\+\_\+init} ()
\item 
void \hyperlink{elevator__hardware_8c_ac7dccb879f6e812e9d245174a0214536}{elev\+\_\+set\+\_\+motor\+\_\+direction} (\hyperlink{elevator__hardware_8h_ac873de158b370a210216e4b4c7fb218f}{elev\+\_\+motor\+\_\+direction\+\_\+t} dirn)
\item 
void \hyperlink{elevator__hardware_8c_a9e81321c63d80ddf1699bc91593cd9d4}{elev\+\_\+set\+\_\+button\+\_\+lamp} (\hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t} button, int floor, int value)
\item 
void \hyperlink{elevator__hardware_8c_a6af53dd3ebae3a5791ba345eac84d4be}{elev\+\_\+set\+\_\+floor\+\_\+indicator} (int floor)
\item 
void \hyperlink{elevator__hardware_8c_a6ce9a34b8677b483b0d8f9dc47b42c40}{elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp} (int value)
\item 
void \hyperlink{elevator__hardware_8c_a85de2a6536b4dd0c83bac19923500740}{elev\+\_\+set\+\_\+stop\+\_\+lamp} (int value)
\item 
int \hyperlink{elevator__hardware_8c_a2350a1635233760719700552a6cb0763}{elev\+\_\+get\+\_\+button\+\_\+signal} (\hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t} button, int floor)
\item 
int \hyperlink{elevator__hardware_8c_a97d30b7e2538acf5647515638070fdc5}{elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal} (void)
\item 
int \hyperlink{elevator__hardware_8c_ab702d0ff2d7d03172b7ae3829ba13028}{elev\+\_\+get\+\_\+stop\+\_\+signal} (void)
\item 
int \hyperlink{elevator__hardware_8c_acd97a0fbc9013dc954923e25e90be9df}{elev\+\_\+get\+\_\+obstruction\+\_\+signal} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of the functions in \hyperlink{elevator__hardware_8h}{elevator\+\_\+hardware.\+h}. 



\subsection{Function Documentation}
\mbox{\Hypertarget{elevator__hardware_8c_a2350a1635233760719700552a6cb0763}\label{elevator__hardware_8c_a2350a1635233760719700552a6cb0763}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+get\+\_\+button\+\_\+signal@{elev\+\_\+get\+\_\+button\+\_\+signal}}
\index{elev\+\_\+get\+\_\+button\+\_\+signal@{elev\+\_\+get\+\_\+button\+\_\+signal}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+get\+\_\+button\+\_\+signal()}{elev\_get\_button\_signal()}}
{\footnotesize\ttfamily int elev\+\_\+get\+\_\+button\+\_\+signal (\begin{DoxyParamCaption}\item[{\hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t}}]{button,  }\item[{int}]{floor }\end{DoxyParamCaption})}

Gets a button signal. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em button} & Which button type to check as defined in \hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t}. \\
\hline
\mbox{\tt in}  & {\em floor} & Which floor to check button. Must be 0-\/3. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if button is not pushed. 1 if button is pushed. 
\end{DoxyReturn}


Definition at line 96 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_a97d30b7e2538acf5647515638070fdc5}\label{elevator__hardware_8c_a97d30b7e2538acf5647515638070fdc5}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal@{elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal}}
\index{elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal@{elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal()}{elev\_get\_floor\_sensor\_signal()}}
{\footnotesize\ttfamily int elev\+\_\+get\+\_\+floor\+\_\+sensor\+\_\+signal (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Get floor sensor signal. \begin{DoxyReturn}{Returns}
-\/1 if elevator is not on a floor. 0-\/3 if elevator is on floor. 0 is ground floor, 3 is top floor. 
\end{DoxyReturn}


Definition at line 106 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_acd97a0fbc9013dc954923e25e90be9df}\label{elevator__hardware_8c_acd97a0fbc9013dc954923e25e90be9df}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+get\+\_\+obstruction\+\_\+signal@{elev\+\_\+get\+\_\+obstruction\+\_\+signal}}
\index{elev\+\_\+get\+\_\+obstruction\+\_\+signal@{elev\+\_\+get\+\_\+obstruction\+\_\+signal}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+get\+\_\+obstruction\+\_\+signal()}{elev\_get\_obstruction\_signal()}}
{\footnotesize\ttfamily int elev\+\_\+get\+\_\+obstruction\+\_\+signal (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Get signal from obstruction switch. \begin{DoxyReturn}{Returns}
1 if obstruction is enabled. 0 if not. 
\end{DoxyReturn}


Definition at line 126 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_ab702d0ff2d7d03172b7ae3829ba13028}\label{elevator__hardware_8c_ab702d0ff2d7d03172b7ae3829ba13028}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+get\+\_\+stop\+\_\+signal@{elev\+\_\+get\+\_\+stop\+\_\+signal}}
\index{elev\+\_\+get\+\_\+stop\+\_\+signal@{elev\+\_\+get\+\_\+stop\+\_\+signal}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+get\+\_\+stop\+\_\+signal()}{elev\_get\_stop\_signal()}}
{\footnotesize\ttfamily int elev\+\_\+get\+\_\+stop\+\_\+signal (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Get signal from stop button. \begin{DoxyReturn}{Returns}
1 if stop button is pushed, 0 if not. 
\end{DoxyReturn}


Definition at line 116 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_a9947d40b2dd08b246692ce64ef60b8c9}\label{elevator__hardware_8c_a9947d40b2dd08b246692ce64ef60b8c9}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+init@{elev\+\_\+init}}
\index{elev\+\_\+init@{elev\+\_\+init}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+init()}{elev\_init()}}
{\footnotesize\ttfamily void elev\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Initialize elevator. \begin{DoxyReturn}{Returns}
Non-\/zero on success, 0 on failure. 
\end{DoxyReturn}


Definition at line 19 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_a9e81321c63d80ddf1699bc91593cd9d4}\label{elevator__hardware_8c_a9e81321c63d80ddf1699bc91593cd9d4}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+set\+\_\+button\+\_\+lamp@{elev\+\_\+set\+\_\+button\+\_\+lamp}}
\index{elev\+\_\+set\+\_\+button\+\_\+lamp@{elev\+\_\+set\+\_\+button\+\_\+lamp}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+set\+\_\+button\+\_\+lamp()}{elev\_set\_button\_lamp()}}
{\footnotesize\ttfamily void elev\+\_\+set\+\_\+button\+\_\+lamp (\begin{DoxyParamCaption}\item[{\hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t}}]{button,  }\item[{int}]{floor,  }\item[{int}]{value }\end{DoxyParamCaption})}

Set a button lamp. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lamp} & Which type of lamp to set as defined in \hyperlink{elevator__hardware_8h_a5457414cc26332731098d18c37a46e6c}{elev\+\_\+button\+\_\+type\+\_\+t}. \\
\hline
\mbox{\tt in}  & {\em floor} & Floor of lamp to set. Must be 0-\/3 \\
\hline
\mbox{\tt in}  & {\em value} & Non-\/zero value turns lamp on, 0 turns lamp off. \\
\hline
\end{DoxyParams}


Definition at line 58 of file elevator\+\_\+hardware.\+c.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{elevator__hardware_8c_a9e81321c63d80ddf1699bc91593cd9d4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{elevator__hardware_8c_a6ce9a34b8677b483b0d8f9dc47b42c40}\label{elevator__hardware_8c_a6ce9a34b8677b483b0d8f9dc47b42c40}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp@{elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp}}
\index{elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp@{elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp()}{elev\_set\_door\_open\_lamp()}}
{\footnotesize\ttfamily void elev\+\_\+set\+\_\+door\+\_\+open\+\_\+lamp (\begin{DoxyParamCaption}\item[{int}]{value }\end{DoxyParamCaption})}

Turn door-\/open lamp on or off. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em value} & Non-\/zero value turns lamp on, 0 turns lamp off. \\
\hline
\end{DoxyParams}


Definition at line 80 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_a6af53dd3ebae3a5791ba345eac84d4be}\label{elevator__hardware_8c_a6af53dd3ebae3a5791ba345eac84d4be}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+set\+\_\+floor\+\_\+indicator@{elev\+\_\+set\+\_\+floor\+\_\+indicator}}
\index{elev\+\_\+set\+\_\+floor\+\_\+indicator@{elev\+\_\+set\+\_\+floor\+\_\+indicator}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+set\+\_\+floor\+\_\+indicator()}{elev\_set\_floor\_indicator()}}
{\footnotesize\ttfamily void elev\+\_\+set\+\_\+floor\+\_\+indicator (\begin{DoxyParamCaption}\item[{int}]{floor }\end{DoxyParamCaption})}

Set floor indicator lamp for a given floor. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em floor} & Which floor lamp to turn on. Other floor lamps are turned off. \\
\hline
\end{DoxyParams}


Definition at line 70 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_ac7dccb879f6e812e9d245174a0214536}\label{elevator__hardware_8c_ac7dccb879f6e812e9d245174a0214536}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+set\+\_\+motor\+\_\+direction@{elev\+\_\+set\+\_\+motor\+\_\+direction}}
\index{elev\+\_\+set\+\_\+motor\+\_\+direction@{elev\+\_\+set\+\_\+motor\+\_\+direction}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+set\+\_\+motor\+\_\+direction()}{elev\_set\_motor\_direction()}}
{\footnotesize\ttfamily void elev\+\_\+set\+\_\+motor\+\_\+direction (\begin{DoxyParamCaption}\item[{\hyperlink{elevator__hardware_8h_ac873de158b370a210216e4b4c7fb218f}{elev\+\_\+motor\+\_\+direction\+\_\+t}}]{dirn }\end{DoxyParamCaption})}

Sets the motor direction of the elevator. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dirn} & New direction of the elevator. \\
\hline
\end{DoxyParams}


Definition at line 51 of file elevator\+\_\+hardware.\+c.

\mbox{\Hypertarget{elevator__hardware_8c_a85de2a6536b4dd0c83bac19923500740}\label{elevator__hardware_8c_a85de2a6536b4dd0c83bac19923500740}} 
\index{elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}!elev\+\_\+set\+\_\+stop\+\_\+lamp@{elev\+\_\+set\+\_\+stop\+\_\+lamp}}
\index{elev\+\_\+set\+\_\+stop\+\_\+lamp@{elev\+\_\+set\+\_\+stop\+\_\+lamp}!elevator\+\_\+hardware.\+c@{elevator\+\_\+hardware.\+c}}
\subsubsection{\texorpdfstring{elev\+\_\+set\+\_\+stop\+\_\+lamp()}{elev\_set\_stop\_lamp()}}
{\footnotesize\ttfamily void elev\+\_\+set\+\_\+stop\+\_\+lamp (\begin{DoxyParamCaption}\item[{int}]{value }\end{DoxyParamCaption})}

Turn stop lamp on or off. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em value} & Non-\/zero value turns lamp on, 0 turns lamp off. \\
\hline
\end{DoxyParams}


Definition at line 87 of file elevator\+\_\+hardware.\+c.

