<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elevator Project: source/queue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elevator Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">queue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A queue system that helps the finite state machine (fsm) to carry out the orders received from the elevator hardware.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="elevator__hardware_8h_source.html">elevator_hardware.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm_8h_source.html">fsm.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for queue.h:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h__incl.png" border="0" usemap="#source_2queue_8h" alt=""/></div>
<map name="source_2queue_8h" id="source_2queue_8h">
<area shape="rect" id="node4" href="elevator__hardware_8h.html" title="The driver that communicates with the elevator hardware. This is done through a server that is set up..." alt="" coords="189,80,328,107"/>
<area shape="rect" id="node5" href="fsm_8h.html" title="This class that controls the main functions of the elevator. It is responsible for checking input sig..." alt="" coords="353,80,407,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h__dep__incl.png" border="0" usemap="#source_2queue_8hdep" alt=""/></div>
<map name="source_2queue_8hdep" id="source_2queue_8hdep">
<area shape="rect" id="node2" href="fsm_8c.html" title="Implementation of the functions in fsm.h. " alt="" coords="5,80,104,107"/>
<area shape="rect" id="node3" href="queue_8c.html" title="Implementation of the functions in queue.h. " alt="" coords="129,80,239,107"/>
</map>
</div>
</div>
<p><a href="queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a600fb7cf1ff3b028fcb97aa1af196065"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a600fb7cf1ff3b028fcb97aa1af196065">queue_reset_queue</a> ()</td></tr>
<tr class="memdesc:a600fb7cf1ff3b028fcb97aa1af196065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all orders in the queue by setting all the order options to the initial value 0.  <a href="#a600fb7cf1ff3b028fcb97aa1af196065">More...</a><br /></td></tr>
<tr class="separator:a600fb7cf1ff3b028fcb97aa1af196065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b21f1da6ba83e1ee8ac5a64854415b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a6b21f1da6ba83e1ee8ac5a64854415b7">queue_delete_order</a> (<a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a> floor)</td></tr>
<tr class="memdesc:a6b21f1da6ba83e1ee8ac5a64854415b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an order in the queue.  <a href="#a6b21f1da6ba83e1ee8ac5a64854415b7">More...</a><br /></td></tr>
<tr class="separator:a6b21f1da6ba83e1ee8ac5a64854415b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bbc447a9b368307ff0ea803d6c0fe1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#ad9bbc447a9b368307ff0ea803d6c0fe1">queue_set_order</a> (<a class="el" href="elevator__hardware_8h.html#a5457414cc26332731098d18c37a46e6c">elev_button_type_t</a> button, <a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a> floor)</td></tr>
<tr class="memdesc:ad9bbc447a9b368307ff0ea803d6c0fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an order in the queue.  <a href="#ad9bbc447a9b368307ff0ea803d6c0fe1">More...</a><br /></td></tr>
<tr class="separator:ad9bbc447a9b368307ff0ea803d6c0fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1a2d18955993f8c78589a8ce56dae9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a5f1a2d18955993f8c78589a8ce56dae9">queue_is_queue_empty</a> ()</td></tr>
<tr class="memdesc:a5f1a2d18955993f8c78589a8ce56dae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the queue has any orders.  <a href="#a5f1a2d18955993f8c78589a8ce56dae9">More...</a><br /></td></tr>
<tr class="separator:a5f1a2d18955993f8c78589a8ce56dae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c4aec8d254eec04f73df6b5bba25d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#af2c4aec8d254eec04f73df6b5bba25d4">queue_get_next_direction</a> (<a class="el" href="fsm_8h.html#a31f24aef3ddd32d2e6538ffff4055d37">position_t</a> current_position, <a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a> last_direction)</td></tr>
<tr class="memdesc:af2c4aec8d254eec04f73df6b5bba25d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the elevator has any orders above, below or at its current position. The function will choose the next direction of the elevator based on these values and will prioritize the orders that is in the direction of the elevator.  <a href="#af2c4aec8d254eec04f73df6b5bba25d4">More...</a><br /></td></tr>
<tr class="separator:af2c4aec8d254eec04f73df6b5bba25d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fd2eb719d7deb1b38cbe8e00603eea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a83fd2eb719d7deb1b38cbe8e00603eea">queue_should_stop</a> (<a class="el" href="fsm_8h.html#a31f24aef3ddd32d2e6538ffff4055d37">position_t</a> <a class="el" href="fsm_8c.html#a740b52d852a7ed32ae50f2433e7fc8dd">fsm_position</a>, <a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a> <a class="el" href="fsm_8c.html#ae58b9d6bb7b780f3c1e7fd26baeb5683">fsm_floor</a>, <a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a> <a class="el" href="fsm_8c.html#a34c0ceaa7f628cf25af6d97bb6775eb4">fsm_direction</a>)</td></tr>
<tr class="memdesc:a83fd2eb719d7deb1b38cbe8e00603eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the elevator should stop when arriving at a floor, based on orders in the queue array. This function will inform the elevator that it should stop if:  <a href="#a83fd2eb719d7deb1b38cbe8e00603eea">More...</a><br /></td></tr>
<tr class="separator:a83fd2eb719d7deb1b38cbe8e00603eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A queue system that helps the finite state machine (fsm) to carry out the orders received from the elevator hardware. </p>

<p class="definition">Definition in file <a class="el" href="queue_8h_source.html">queue.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6b21f1da6ba83e1ee8ac5a64854415b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b21f1da6ba83e1ee8ac5a64854415b7">&#9670;&nbsp;</a></span>queue_delete_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_delete_order </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a>&#160;</td>
          <td class="paramname"><em>floor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an order in the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">floor</td><td>Floor the elevator is at </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">queue_array</td><td>Queue table </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00035">35</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h_a6b21f1da6ba83e1ee8ac5a64854415b7_cgraph.png" border="0" usemap="#queue_8h_a6b21f1da6ba83e1ee8ac5a64854415b7_cgraph" alt=""/></div>
<map name="queue_8h_a6b21f1da6ba83e1ee8ac5a64854415b7_cgraph" id="queue_8h_a6b21f1da6ba83e1ee8ac5a64854415b7_cgraph">
<area shape="rect" id="node2" href="elevator__hardware_8c.html#a9e81321c63d80ddf1699bc91593cd9d4" title="elev_set_button_lamp" alt="" coords="188,5,337,32"/>
</map>
</div>

</div>
</div>
<a id="af2c4aec8d254eec04f73df6b5bba25d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c4aec8d254eec04f73df6b5bba25d4">&#9670;&nbsp;</a></span>queue_get_next_direction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a> queue_get_next_direction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#a31f24aef3ddd32d2e6538ffff4055d37">position_t</a>&#160;</td>
          <td class="paramname"><em>current_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a>&#160;</td>
          <td class="paramname"><em>last_direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the elevator has any orders above, below or at its current position. The function will choose the next direction of the elevator based on these values and will prioritize the orders that is in the direction of the elevator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">current_position</td><td>The current position of the elevator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_direction</td><td>The direction of travel of the elevator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>next direction of the elevator. </dd></dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00064">64</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h_af2c4aec8d254eec04f73df6b5bba25d4_icgraph.png" border="0" usemap="#queue_8h_af2c4aec8d254eec04f73df6b5bba25d4_icgraph" alt=""/></div>
<map name="queue_8h_af2c4aec8d254eec04f73df6b5bba25d4_icgraph" id="queue_8h_af2c4aec8d254eec04f73df6b5bba25d4_icgraph">
<area shape="rect" id="node2" href="queue_8h.html#a83fd2eb719d7deb1b38cbe8e00603eea" title="Checks if the elevator should stop when arriving at a floor, based on orders in the queue array..." alt="" coords="224,5,359,32"/>
</map>
</div>

</div>
</div>
<a id="a5f1a2d18955993f8c78589a8ce56dae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1a2d18955993f8c78589a8ce56dae9">&#9670;&nbsp;</a></span>queue_is_queue_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool queue_is_queue_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the queue has any orders. </p>
<dl class="section return"><dt>Returns</dt><dd>1 if the queue is empty, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00048">48</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>

</div>
</div>
<a id="a600fb7cf1ff3b028fcb97aa1af196065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600fb7cf1ff3b028fcb97aa1af196065">&#9670;&nbsp;</a></span>queue_reset_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_reset_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes all orders in the queue by setting all the order options to the initial value 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">queue_array</td><td>Queue table </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00024">24</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h_a600fb7cf1ff3b028fcb97aa1af196065_cgraph.png" border="0" usemap="#queue_8h_a600fb7cf1ff3b028fcb97aa1af196065_cgraph" alt=""/></div>
<map name="queue_8h_a600fb7cf1ff3b028fcb97aa1af196065_cgraph" id="queue_8h_a600fb7cf1ff3b028fcb97aa1af196065_cgraph">
<area shape="rect" id="node2" href="elevator__hardware_8c.html#a9e81321c63d80ddf1699bc91593cd9d4" title="elev_set_button_lamp" alt="" coords="188,5,337,32"/>
</map>
</div>

</div>
</div>
<a id="ad9bbc447a9b368307ff0ea803d6c0fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bbc447a9b368307ff0ea803d6c0fe1">&#9670;&nbsp;</a></span>queue_set_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_set_order </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="elevator__hardware_8h.html#a5457414cc26332731098d18c37a46e6c">elev_button_type_t</a>&#160;</td>
          <td class="paramname"><em>button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a>&#160;</td>
          <td class="paramname"><em>floor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an order in the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">button</td><td>Hardware buttons </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">floor</td><td>At a floor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">queue_array</td><td>Queue table </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00043">43</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>

</div>
</div>
<a id="a83fd2eb719d7deb1b38cbe8e00603eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fd2eb719d7deb1b38cbe8e00603eea">&#9670;&nbsp;</a></span>queue_should_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool queue_should_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#a31f24aef3ddd32d2e6538ffff4055d37">position_t</a>&#160;</td>
          <td class="paramname"><em>fsm_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#a5b3a976f46b9e6993f1692a09bf2fd60">floor_t</a>&#160;</td>
          <td class="paramname"><em>fsm_floor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="elevator__hardware_8h.html#ac873de158b370a210216e4b4c7fb218f">elev_motor_direction_t</a>&#160;</td>
          <td class="paramname"><em>fsm_direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the elevator should stop when arriving at a floor, based on orders in the queue array. This function will inform the elevator that it should stop if: </p>
<ul>
<li>There are no further orders in the direction.</li>
<li>There are cab or hall calls in the direction of travel.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fsm_position</td><td>The current position of the elevator. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fsm_floor</td><td>The current floor of the elevator. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fsm_direction</td><td>The direction of travel the elevator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 of the elevator should stop, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="queue_8c_source.html#l00088">88</a> of file <a class="el" href="queue_8c_source.html">queue.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h_a83fd2eb719d7deb1b38cbe8e00603eea_cgraph.png" border="0" usemap="#queue_8h_a83fd2eb719d7deb1b38cbe8e00603eea_cgraph" alt=""/></div>
<map name="queue_8h_a83fd2eb719d7deb1b38cbe8e00603eea_cgraph" id="queue_8h_a83fd2eb719d7deb1b38cbe8e00603eea_cgraph">
<area shape="rect" id="node2" href="queue_8c.html#af2c4aec8d254eec04f73df6b5bba25d4" title="Checks if the elevator has any orders above, below or at its current position. The function will choo..." alt="" coords="188,5,359,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
